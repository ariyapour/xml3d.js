<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>XML3D 5.0 Specification</title>
  <script src='http://www.w3.org/Tools/respec/respec-w3c-common' async class='remove'></script>

  <script class='remove'>
    var respecConfig = {
      // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
      specStatus: "unofficial",

      // the specification's short name, as in http://www.w3.org/TR/short-name/
      shortName: "xml3d",

      // if your specification has a subtitle that goes below the main
      // formal title, define it here
      subtitle: "Interactive 3D Graphics for the Web",

      // if you wish the publication date to be other than today, set this
      publishDate:  "",

      // if the specification's copyright date is a range of years, specify
      // the start date here:
      // copyrightStart: "2005",

      // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
      // and its maturity status
      // previousPublishDate:  "1977-03-15",
      // previousMaturity:  "WD",

      // if there a publicly available Editor's Draft, this is the link
      // edDraftURI: "http://dev.w3.org/2009/dap/ReSpec.js/documentation.html",
      previousURI: "http://www.xml3d.org/xml3d/specification/0.4.3/",

      // editors, add as many as you like
      // only "name" is required
      editors: [{
        name: "Kristian Sons"
      }],

      // authors, add as many as you like.
      // This is optional, uncomment if you have authors as well as editors.
      // only "name" is required. Same format as editors.

      authors: [{
        name: "Felix Klein",
        company: "Intel Visual Computing Institute",
        companyURL: "http://www.intel-vci.uni-saarland.de/"
      }, {
        name: "Kristian Sons", company: "DFKI", companyURL: "http://www.dfki.de/"
      }],

      // name of the WG
      wg: "Declarative 3D Community Group",

      // URI of the public WG page
      wgURI: "http://www.w3.org/community/declarative3d/",

      // name (without the @w3c.org) of the public mailing to which comments are due
      wgPublicList: "public-declarative3d",

      // URI of the patent status for this WG, for Rec-track documents
      // !!!! IMPORTANT !!!!
      // This is important for Rec-track documents, do not copy a patent URI from a random
      // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
      // Team Contact.
      wgPatentURI: "http://www.w3.org/community/about/agreements/cla/"
    };
  </script>
</head>
<body>
<section id='abstract'>
</section>

<section>
  <h2>Concepts</h2>
  <section>
    <h3>Generic data model</h3>
  </section>
  <section>
    <h3>Predefined material models</h3>
  </section>
  <section>
    <h3>Predefined light models</h3>
  </section>
</section>

<section>
  <h2>The elements of XML3D</h2>

  <section>
    <h3>The root element</h3>
    <section>
      <h4>The <code>xml3d</code> element</h4>

      <dl title='interface XML3DXml3dElement : HTMLElement' class='idl'>
        <dt>attribute unsigned long width</dt>
        <dd>Horizontal dimension</dd>
        <dt>attribute unsigned long height</dt>
        <dd>Vertical dimension</dd>
        <dt>readonly attribute boolean complete</dt>
        <dd>Returns true if all resources of the root element has been completely downloaded and rendered; otherwise,
          returns false.
        </dd>

        <dt>attribute DOMString activeview</dt>
        <dd>The activeview IDL attribute must reflect the respective content attribute of the same name.</dd>

        <dt>HTMLElement? getElementByPoint(unsigned long x, unsigned long y)</dt>
        <dd>Returns the element at the point with coordinates x, y if there is a scene element; otherwise, returns
          null.
        </dd>

        <dt>HTMLElement? getElementByRay(XML3DRay ray)</dt>
        <dd>Returns the first element that intersects with ray if the ray intersects with a a scene element; otherwise,
          returns null.
        </dd>

        <dt>XML3DBox getBoundingBox()</dt>
        <dd>TODO</dd>

        <dt>XML3DRay generateRay()</dt>
        <dd>TODO</dd>

      </dl>
    </section>
  </section>

  <section>
    <h3>Scene elements</h3>
    <section>
      <h4>The <code>group</code> element</h4>
    </section>
    <section>
      <h4>The <code>view</code> element</h4>
        <dl title='interface XML3DViewElement : HTMLElement' class='idl'>
            <dt>attribute Function onkeypress</dt>
            <dd>Event listener to be executed when a key is pressed.</dd>
            <dt>attribute Function onkeydown</dt>
            <dd>Event listener to be executed when a key is depressed.</dd>
            <dt>attribute Function onkeyup</dt>
            <dd>Event listener to be executed when a key is released.</dd>

            <dt>attribute XML3DVec3 position</dt>
            <dd>The position of the camera in world space</dd>

            <dt>attribute XML3DRotation orientation</dt>
            <dd>The orientation (rotation) of the camera</dd>

            <dt>attribute float fieldofview</dt>
            <dd>The <b>vertical</b> field of view of this camera, expressed in radians.
            </dd>

            <dt>attribute XML3DMatrix perspective</dt>
            <dd>Overrides the camera's internal projection matrix with the supplied value. This can be used to, for
            example, create an orthographic camera.</dd>

            <dt>XML3DMatrix getWorldMatrix()</dt>
            <dd>Returns the transformation matrix of this view element in world space.
            </dd>

            <dt>void setUpVector(XML3DVec3 direction)</dt>
            <dd>Change the up vector of the camera. This method changes the current orientation. The up vector will be
                lost if the orientation is explicitly set at a later time.
            </dd>

            <dt>void setDirection(XML3DVec3 direction)</dt>
            <dd>Change the orientation of the camera to look along the given direction vector.
            </dd>

            <dt>XML3DVec3 getDirection()</dt>
            <dd>Returns the current direction of the camera, which is extracted from the orientation.
            </dd>

            <dt>XML3DVec3 getUpVector()</dt>
            <dd>Returns the current up vector of the camera, which is extracted from the orientation.
            </dd>

            <dt>XML3DMatrix getViewMatrix()</dt>
            <dd>Returns the view matrix of the camera (the matrix used to transform from world to view space).
            </dd>

            <dt>void lookAt(XML3DVec3 point)</dt>
            <dd>Change the orientation of the camera to look at the given point.
            </dd>
        </dl>
    </section>
    <section>
      <h4>The <code>light</code> element</h4>
    </section>
    <section>
      <h4>The <code>mesh</code> element</h4>
    </section>
    <section>
      <h4>The <code>model</code> element</h4>
    </section>
  </section>

  <section>
    <h3>Definition Areas</h3>
    <section>
      <h4>The <code>defs</code> element</h4>
    </section>
  </section>

  <section>
    <h3>Property elements</h3>
    <section>
      <h4>The <code>material</code> element</h4>
    </section>
    <section>
      <h4>The <code>transform</code> element</h4>
        <dl title='interface XML3DTransformElement : HTMLElement' class='idl'>
            <dt>attribute XML3DRotation scaleorientation</dt>
            <dd>The orientation on which to apply the scaling factor supplied by the IDL attribute <i>scale</i>.</dd>
        </dl>
    </section>
  </section>

  <section>
    <h3>Data and dataflow elements</h3>
    <section>
      <h4>The <code>data</code> element</h4>
    </section>
    <section>
      <h4>The <code>float</code>, <code>float2</code>, <code>float3</code>, <code>float4</code>, and
        <code>float4x4</code> elements</h4>
    </section>
    <section>
      <h4>The <code>int</code> and <code>int4</code> elements</h4>
    </section>
    <section>
      <h4>The <code>bool</code> element</h4>
    </section>
    <section>
      <h4>The <code>texture</code> element</h4>
        <section>
            <dl title="enum WrapMode" class="idl">
                <dt>clamp</dt>
                <dd>Corresponds to gl.CLAMP_TO_EDGE. Texture coordinates are clamped to the 0..1 range.</dd>
                <dt>repeat</dt>
                <dd>Corresponds to gl.REPEAT. Texture coordinates are wrapped to the 0..1 range.</dd>
            </dl>
        </section>
        <section>
            <dl title="enum FilterMode" class="idl">
                <dt>nearest</dt>
                <dd>Corresponds to gl.NEAREST. </dd>
                <dt>linear</dt>
                <dd>Corresponds to gl.LINEAR. </dd>
                <dt>nearest-mipmap-nearest</dt>
                <dd>Corresponds to gl.NEAREST_MIPMAP_NEAREST </dd>
                <dt>nearest-mipmap-linear</dt>
                <dd>Corresponds to gl.NEAREST_MIPMAP_LINEAR </dd>
                <dt>linear-mipmap-nearest</dt>
                <dd>Corresponds to gl.LINEAR_MIPMAP_NEAREST </dd>
                <dt>linear-mipmap-linear</dt>
                <dd>Corresponds to gl.LINEAR_MIPMAP_LINEAR </dd>
            </dl>
        </section>
        <dl title='interface XML3DTextureElement : HTMLElement' class='idl'>
            <dt>attribute WrapMode wraps</dt>
            <dd>Texture wrapping mode to be used on the x axis</dd>
            <dt>attribute WrapMode wrapt</dt>
            <dd>Texture wrapping mode to be used on the y axis</dd>
            <dt>attribute WrapMode wrapu</dt>
            <dd>Texture wrapping mode to be used on the z axis</dd>
            <dt>attribute FilterMode filtermin</dt>
            <dd>The texture filtering mode to be used for minification.</dd>
            <dt>attribute FilterMode filtermag</dt>
            <dd>The texture filtering mode to be used for magnification.</dd>
            <dt>attribute FilterMode filtermip</dt>
            <dd>TODO</dd>
            <dt>attribute string name</dt>
            <dd>Required. The name of the texture as defined by the material shader. </dd>
            <dt>attribute boolean param</dt>
            <dd>If this element appears inside a DataFlow element the param attribute will mark it as a parameter to be supplied by the Data element referencing the DataFlow. </dd>
            <dt>attribute string type</dt>
            <dd>TODO </dd>
        </dl>
        <p class="note">
            XML3D will automatically resize textures to the nearest power-of-two dimensions when the texture wrap mode is set to "repeat" or filtermin is set to anything other than "nearest" or
            "linear". See <a href="https://www.khronos.org/webgl/wiki/WebGL_and_OpenGL_Differences#Non-Power_of_Two_Texture_Support">WebGL limitations</a> for more information.
        </p>
    </section>
    <section>
      <h4>The <code>dataflow</code> element</h4>
    </section>
  </section>

  <section>
    <h3>Assets</h3>
    <section>
      <h4>The <code>asset</code> element</h4>
    </section>
    <section>
      <h4>The <code>assetdata</code> element</h4>
    </section>
    <section>
      <h4>The <code>assetmesh</code> element</h4>
    </section>
  </section>

</section>

<section>
  <h2>Datatypes</h2>
  <section>
    <h3>XML3DVec3</h3>
    <dl title='interface XML3DVec3' class='idl'>
      <dt>attribute float x</dt>
      <dd></dd>
      <dt>attribute float y</dt>
      <dd></dd>
      <dt>attribute float z</dt>
      <dd></dd>
    </dl>
  </section>
  <section>
    <h3>XML3DRotation</h3>
  </section>
  <section>
    <h3>XML3DMatrix</h3>
  </section>
  <section>
    <h3>XML3DBox</h3>
    XML3DBox defines an axis-aligned box, i.e. its faces are along the X, Y, Z axis.
    <dl title='interface XML3DBox' class='idl'>
      <dt>attribute XML3DVec3 min</dt>
      <dd></dd>
      <dt>attribute XML3DVec3 max</dt>
      <dd></dd>
    </dl>
  </section>
  <section>
    <h3>XML3DRay</h3>
  </section>
</section>

<section>
  <h2>CSS Properties</h2>
</section>


<section>
  <h2>Events</h2>
</section>
</body>
</html>
