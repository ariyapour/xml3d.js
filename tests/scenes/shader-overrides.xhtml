<?xml version="1.0" encoding="UTF-8"?>
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <link href="frame.css" media="all" rel="stylesheet" type="text/css"/>
   <script type="text/javascript" src="../../build/output/xml3d.js"></script>
  </head>
  <body>
   <h1>

   </h1>
   <div>
    <xml3d id="xml3DElem" activeview="#Camera" style="width: 500px; height: 350px; background-color:grey;" xmlns="http://www.xml3d.org/2009/xml3d">
     <defs id="mainDef">
      <transform id="t_1" translation="-7.5 0 0"/>
      <transform id="t_2" translation="-4.5 0 0"/>
      <transform id="t_3" translation="-1.5 0 0"/>
      <transform id="t_4" translation="1.5 0 0"/>
      <transform id="t_5" translation="4.5 0 0"/>
      <transform id="t_6" translation="7.5 0 0"/>
      <transform id="t_7" translation="0 -2 0"/>
      <data id="cone">
       <int name="index">
        0 1 2 2 3 0 2 4 3 2 5 4 2 6 5 2 7 6 2 8 7 2 9 8 2 10 9 2 11 10 2 12 11 2 13 12 2 14 13 2 15 14 2 16 15 2 17 16 2 18 17 2 19 18 2 20 19 2 21 20 2 22 21 2 23 22 2 24 23 2 25 24 2 26 25 2 27 26 2 28 27 2 29 28 2 30 29 2 31 30 2 32 31 2 1 32 33 1 0 33 0 3 33 3 4 33 4 5 33 5 6 33 6 7 33 7 8 33 8 9 33 9 10 33 10 11 33 11 12 33 12 13 33 13 14 33 14 15 33 15 16 33 16 17 33 17 18 33 18 19 33 19 20 33 20 21 33 21 22 33 22 23 33 23 24 33 24 25 33 25 26 33 26 27 33 27 28 33 28 29 33 29 30 33 30 31 33 31 32 32 1 33
       </int>
       <float3 name="position">
        0.831470 0.555570 -1.000000 0.707107 0.707107 -1.000000 0.000000 0.000000 1.000000 0.923880 0.382683 -1.000000 0.980785 0.195090 -1.000000 1.000000 0.000000 -1.000000 0.980785 -0.195090 -1.000000 0.923880 -0.382683 -1.000000 0.831470 -0.555570 -1.000000 0.707107 -0.707107 -1.000000 0.555570 -0.831470 -1.000000 0.382683 -0.923880 -1.000000 0.195090 -0.980785 -1.000000 -0.000000 -1.000000 -1.000000 -0.195091 -0.980785 -1.000000 -0.382684 -0.923879 -1.000000 -0.555571 -0.831469 -1.000000 -0.707107 -0.707106 -1.000000 -0.831470 -0.555570 -1.000000 -0.923880 -0.382683 -1.000000 -0.980785 -0.195089 -1.000000 -1.000000 0.000001 -1.000000 -0.980785 0.195091 -1.000000 -0.923879 0.382684 -1.000000 -0.831469 0.555571 -1.000000 -0.707106 0.707108 -1.000000 -0.555569 0.831470 -1.000000 -0.382682 0.923880 -1.000000 -0.195089 0.980786 -1.000000 0.000002 1.000000 -1.000000 0.195092 0.980785 -1.000000 0.382685 0.923879 -1.000000 0.555572 0.831469 -1.000000 0.000000 0.000000 -1.000000
       </float3>
       <float3 name="normal">
        0.705893 0.471664 -0.528367 0.600330 0.600330 -0.528367 0.000000 0.000000 1.000000 0.784356 0.324870 -0.528367 0.832667 0.165624 -0.528367 0.848994 0.000000 -0.528367 0.832667 -0.165624 -0.528367 0.784356 -0.324870 -0.528367 0.705893 -0.471664 -0.528367 0.600330 -0.600330 -0.528367 0.471664 -0.705893 -0.528367 0.324870 -0.784356 -0.528367 0.165624 -0.832667 -0.528367 0.000000 -0.848994 -0.528367 -0.165624 -0.832667 -0.528367 -0.324870 -0.784356 -0.528367 -0.471664 -0.705893 -0.528367 -0.600330 -0.600330 -0.528367 -0.705893 -0.471664 -0.528367 -0.784356 -0.324870 -0.528367 -0.832667 -0.165624 -0.528367 -0.848994 0.000000 -0.528367 -0.832667 0.165624 -0.528367 -0.784356 0.324900 -0.528367 -0.705893 0.471664 -0.528367 -0.600330 0.600330 -0.528367 -0.471664 0.705893 -0.528367 -0.324870 0.784356 -0.528367 -0.165624 0.832667 -0.528367 0.000000 0.848994 -0.528367 0.165624 0.832667 -0.528367 0.324900 0.784356 -0.528367 0.471664 0.705893 -0.528367 0.000000 0.000000 -1.000000
       </float3>
      </data>
      <shader id="mat" script="urn:xml3d:shader:flat">
       <float3 name="diffuseColor">0.0 0.0 1</float3>
       <float name="ambientIntensity">1.0</float>
      </shader>
     </defs>
     <view id="Camera"  position="0 0 15"/>
    <group id="test2" visible="false">
        <mesh type="triangles">
            <data src="#cone"/>
            <float3 name="diffuseColor" id="override">0 1 0</float3>
        </mesh>
    </group>
    <group id="test1">
     <group shader="#mat" transform="#t_1">
      <mesh src="#cone" type="triangles"/>
     </group>
     <group shader="#mat" transform="#t_2">
      <mesh type="triangles">
		<data src="#cone"/>
		<float3 name="diffuseColor">1 0 0</float3>
	  </mesh>
     </group>
     <group shader="#mat" transform="#t_3">
      <mesh type="triangles">
		<data src="#cone"/>
	  </mesh>
     </group>
     <group shader="#mat" transform="#t_4">
      <mesh type="triangles">
		<data src="#cone"/>
		<float3 name="diffuseColor">1 1 0</float3>
        <float name="ambientIntensity">0.1</float>
	  </mesh>
     </group>
     <group shader="#mat" transform="#t_5">
      <mesh id="m_5" type="triangles">
		<data src="#cone"/>
		<float3 name="diffuseColor">0 1 0</float3>
	  </mesh>
     </group>
     <group shader="#mat" transform="#t_6">
      <mesh id="m_6" type="triangles">
		<data src="#cone"/>
	  </mesh>
     </group>
    </group>
    </xml3d>
   </div>
   <p style="position: absolute; top: 130px; left: 40px">1: blue</p>
   <p style="position: absolute; top: 130px; left: 120px">2: red</p>
   <p style="position: absolute; top: 130px; left: 200px">3: blue</p>
   <p style="position: absolute; top: 130px; left: 280px">4: yellow</p>
   <p id="p_5" style="position: absolute; top: 130px; left: 360px">5: green</p>
   <p id="p_6" style="position: absolute; top: 130px; left: 440px">6: blue</p>
<script type="text/javascript">
    function getPixelValue(canvas, x,y) {
        var pixels = new Uint8Array(4), a = new Array(4);
        canvas.readPixels(x, y, 1, 1, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, pixels);
        for(var i=0;i&lt;4;i++)
            a[i] = pixels[i];
        return a;
    }
    </script>  </body>
 </html>
