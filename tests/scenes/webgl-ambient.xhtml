<?xml version="1.0" encoding="UTF-8"?>
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
     <link rel="stylesheet" type="text/css" media="all" href="frame.css"/>
    <script type="text/javascript" src="../../build/output/xml3d.js"></script>
   <title>
    XML3D
   </title>
  </head>
  <body style="background-color: #FFF;width:500px">
   <xml3d xmlns="http://www.xml3d.org/2009/xml3d" id="xml3DElem" style="background-color: grey; width: 300px; height: 200px;">
            <defs>
               <transform id="t1" translation="-2.5 2 0"/>
               <transform id="t2" translation="0 2 0"/>
               <transform id="t3" translation="2.5 2 0"/>
               <transform id="t4" translation="-2.5 -2 0"/>
               <transform id="t5" translation="0 -2 0"/>
               <transform id="t6" translation="2.5 -2 0"/>
               
               <material id="material_diffuse" script="urn:xml3d:material:diffuse">
                  <float3 name="diffuseColor">1 0.2 0.3</float3>
                  <float name="ambientIntensity">0.8</float>
               </material>
               <material id="material_diffuse_texture" script="urn:xml3d:material:diffuse">
                  <float3 name="diffuseColor">0.5 1 1</float3>
                  <float name="ambientIntensity">0.5</float>
                  <texture id="tex1" name="diffuseTexture">
                    <img id="tex1img" src="textures/yellow.png"/>
                  </texture>
               </material>
               <material id="material_diffuse_vertexcolors" script="urn:xml3d:material:diffuse">
                  <bool name="useVertexColor">true</bool>
                  <float name="ambientIntensity">0.9</float>
                  <float3 name="diffuseColor">0.4 0.8 0.8</float3>
               </material>
               <material id="material_phong" script="urn:xml3d:material:phong">
                  <float3 name="diffuseColor">1 0.2 0.3</float3>
                  <float name="ambientIntensity">0.8</float>
               </material>
               <material id="material_phong_texture" script="urn:xml3d:material:phong">
                  <float3 name="diffuseColor">0.5 1 1</float3>
                  <float name="ambientIntensity">0.5</float>
                  <texture id="tex1" name="diffuseTexture">
                    <img id="tex1img" src="textures/yellow.png"/>
                  </texture>
               </material>
               <material id="material_phong_vertexcolors" script="urn:xml3d:material:phong">
                  <bool name="useVertexColor">true</bool>
                  <float name="ambientIntensity">0.9</float>
                  <float3 name="diffuseColor">0.4 0.8 0.8</float3>
               </material>

               <data id="mySimpleMesh" type="triangles">
                  <int name="index">0 1 2 1 2 3</int>
                  <float3 name="position">-1.0 -1.0 -10.0
                         1.0 -1.0 -10.0
                        -1.0  1.0 -10.0
                         1.0  1.0 -10.0</float3>
                  <float3 name="normal">
                    0.0 0.0 1.0
                    0.0 0.0 1.0
                    0.0 0.0 1.0
                    0.0 0.0 1.0</float3>
                  <float2 name="texcoord">0.0 1.0
                    1.0 1.0
                    0.0 0.0
                    1.0 0.0
                </float2>
                  <float3 name="color">
                    1.0 0.5 0.25
                    1.0 0.5 0.25
                    1.0 0.5 0.25
                    1.0 0.5 0.25
                </float3>
               </data>
            </defs>
            <view/>
            <group onmouseover="console.log(evt.x, evt.y);" onmousemove="console.log(evt.x, evt.y);">
                <group material="#material_diffuse" transform="#t1">
                    <mesh id="pickingMesh1" src="#mySimpleMesh"/>
                </group>
                <group material="#material_diffuse_texture" transform="#t2">
                   <mesh id="pickingMesh2" src="#mySimpleMesh"/>
                </group>
                <group material="#material_diffuse_vertexcolors" transform="#t3">
                   <mesh id="pickingMesh3" src="#mySimpleMesh"/>
                </group>
                <group material="#material_phong" transform="#t4">
                    <mesh id="pickingMesh4" src="#mySimpleMesh"/>
                </group>
                <group material="#material_phong_texture" transform="#t5">
                   <mesh id="pickingMesh5" src="#mySimpleMesh"/>
                </group>
                <group material="#material_phong_vertexcolors" transform="#t6">
                   <mesh id="pickingMesh6" src="#mySimpleMesh"/>
                </group>
            </group>
         </xml3d>
        <script type="text/javascript">
    function getPixelValue(canvas, x,y) {
        var pixels = new Uint8Array(4), a = new Array(4);
        canvas.readPixels(x, y, 1, 1, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, pixels);
        for(var i=0;i&lt;4;i++)
            a[i] = pixels[i];
        return a;
    }
    </script>
  </body>
 </html>
